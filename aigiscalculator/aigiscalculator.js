const expCalculator=document.getElementById("expCalculator"),formUnits=document.getElementById("formUnits"),idBlack99=document.getElementById("black99");document.getElementById("expMaxRarity").innerText="ブラック",document.getElementById("expMaxBlack").style.display="flex",idBlack99.checked=!0;const expUnits=document.getElementById("expUnits"),expUnitsForm=expUnits.getElementsByTagName("form")[0],expMaxRadio=document.getElementsByName("expMax");function clearRadio(){for(let e=0;e<expMaxRadio.length;e++)expMaxRadio[e].checked=!1}function clearRel(){let e=document.querySelectorAll("[class^=rel]");for(let t=0;t<e.length;t++)e[t].style.display="none"}clearRel();const relBk=document.getElementsByClassName("relBk");for(let e=0;e<relBk.length;e++)relBk[e].style.display="flex";expCalculate(),document.addEventListener("keyup",expCalculate);const input=document.getElementsByTagName("input");for(let e=0;e<input.length;e++)input[e].addEventListener("change",expCalculate);const relList=["relBk","relPt","relGl","relSl"];function getClass(...e){e.forEach((function(e){const t=document.getElementsByClassName(e);for(let e=0;e<t.length;e++)t[e].style.display="flex"}))}function rarityFilter(e){if(e==e){getClass(relList.filter((function(t){return t==e}))),getClass(relList.filter((function(t){return t!=e})))}}function selectRarity(){const e=document.getElementById("expMaxRarity");let t=document.getElementById("rarityBlack"),n=document.getElementById("rarityPlatinum"),l=document.getElementById("rarityGold"),c=document.getElementById("raritySilver");const r=document.getElementById("uSarriette");function a(){1==r.checked?(formUnits.reset(),r.checked=!0):0==r.checked&&(formUnits.reset(),r.checked=!1)}t.checked?(e.innerText="ブラック",a(),clearRadio(),clearRel(),rarityFilter("relBk"),document.getElementById("black99").checked=!0):n.checked?(e.innerText="プラチナ",a(),clearRadio(),clearRel(),rarityFilter("relPt"),document.getElementById("platinum99").checked=!0):l.checked?(e.innerText="ゴールド",a(),clearRadio(),clearRel(),rarityFilter("relGl"),document.getElementById("gold99").checked=!0):c.checked&&(e.innerText="シルバー",a(),clearRadio(),clearRel(),rarityFilter("relSl"),document.getElementById("silver55").checked=!0)}function expCalculate(){const e=expCalculator.expMax.value,t=expCalculator.expCurrent.value-1,n=expCalculator.expNext.value,l=(expCalculator.expMax,document.getElementById("inputResult"),document.getElementById("expResult")),c=document.getElementById("uSarriette");function r(){return 1==c.checked?11:0==c.checked?10:void 0}const a=document.getElementById("uBarmor");document.getElementById("uBarmorExp").innerText=4e4*r()/10+"EXP";const d=document.getElementById("uParmor");document.getElementById("uParmorExp").innerText=8e3*r()/10+"EXP";const o=document.getElementById("uFarah");document.getElementById("uFarahExp").innerText=2e4*r()/10+"EXP";const u=document.getElementById("uFreude");document.getElementById("uFreudeExp").innerText=19e3*r()/10+"EXP";const m=document.getElementById("uAlegria");document.getElementById("uAlegriaExp").innerText=18e3*r()/10+"EXP";const i=document.getElementById("uPlease");document.getElementById("uPleaseExp").innerText=18e3*r()/10+"EXP";const x=document.getElementById("uPrazer");document.getElementById("uPrazerExp").innerText=1e4*r()/10+"EXP";const s=4e4*a.value*r()/10+8e3*d.value*r()/10+2e4*o.value*r()/10+19e3*u.value*r()/10+18e3*m.value*r()/10+18e3*i.value*r()/10+1e4*x.value*r()/10;let y=document.getElementById("rarityBlack"),E=document.getElementById("rarityPlatinum"),B=document.getElementById("rarityGold"),p=document.getElementById("raritySilver");const g=[50,80,99],k=[2e4,8e4,145967],I=[50,70,90,99],f=[18666,51334,107334,136235],h=[50,60,80,99],R=[17333,30333,69333,126504],P=[50,55],v=[16e3,21492];Number(e);function C(c,r,a,d){let o=r[c.indexOf(Number(e))]-a[t]-(d[t]-n);l.innerHTML=o?"必要経験値　<span>"+(o-s)+"</span>":"必要経験値　<span>無効な数値が入力されています</span>"}y.checked?C(g,k,totalBlackExp,nextBlackExp):E.checked?C(I,f,totalPlatinumExp,nextPlatinumExp):B.checked?C(h,R,totalGoldExp,nextGoldExp):p.checked&&C(P,v,totalSilverExp,nextSilverExp)}function reset(){expCalculator.reset(),formUnits.reset(),clearRadio(),clearRel(),rarityFilter("relBk"),idBlack99.checked=!0,document.getElementById("expMaxRarity").innerText="ブラック",expCalculate()}